{% extends 'base.html' %}

{% block content %}
<h2>Create Order</h2>
<form method="post" class="mb-4">
    {% csrf_token %}
    {{ form.as_p }}
    {{ formset.management_form }}
    <table class="table">
        <thead>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Item Price</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {{ formset.non_form_errors }}
            {% for form in formset %}
                <tr>
                    <td>{{ form.product.label }}: {{ form.product }}</td>
                    <td>{{ form.quantity.label }}: {{ form.quantity }}</td>
                    <td>{{ form.item_price.label }}: {{ form.item_price }}</td>
                    <td><button type="button" class="remove-item btn btn-danger">Remove</button></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <button type="button" id="add-item" class="btn btn-primary">Add Item</button>
    <button type="submit" class="btn btn-success">Submit Order</button>
</form>
{% endblock %}